<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>How the Raspberry Pi automatic file system expansion works | Gijs</title><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="How the Raspberry Pi automatic file system expansion works" /><meta name="author" content="Gijs" /><meta property="og:locale" content="en_US" /><meta name="description" content="When you boot Raspberry Pi OS for the first time, it performs an automatic file system expansion. This process makes sure that the file system is expanded to the size of the SD card. Because of this process, it doesn’t matter to what size SD card you write the Raspberry Pi OS image." /><meta property="og:description" content="When you boot Raspberry Pi OS for the first time, it performs an automatic file system expansion. This process makes sure that the file system is expanded to the size of the SD card. Because of this process, it doesn’t matter to what size SD card you write the Raspberry Pi OS image." /><link rel="canonical" href="https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/" /><meta property="og:url" content="https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/" /><meta property="og:site_name" content="Gijs" /><meta property="og:image" content="https://gdejong.github.io/assets/img/rpi-fs-resize/rpi-resize.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-09T19:00:00+01:00" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://gdejong.github.io/assets/img/rpi-fs-resize/rpi-resize.png","description":"When you boot Raspberry Pi OS for the first time, it performs an automatic file system expansion. This process makes sure that the file system is expanded to the size of the SD card. Because of this process, it doesn’t matter to what size SD card you write the Raspberry Pi OS image.","mainEntityOfPage":{"@type":"WebPage","@id":"https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/"},"@type":"BlogPosting","url":"https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/","headline":"How the Raspberry Pi automatic file system expansion works","dateModified":"2021-01-09T19:00:00+01:00","datePublished":"2021-01-09T19:00:00+01:00","author":{"@type":"Person","name":"Gijs"},"@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Gijs</a></div><div class="site-subtitle font-italic">Notes on random tech topics.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/gdejong" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>How the Raspberry Pi automatic file system expansion works</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>How the Raspberry Pi automatic file system expansion works</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 9, 2021, 7:00 PM +0100" > Jan 9 <i class="unloaded">2021-01-09T19:00:00+01:00</i> </span> by <span class="author"> Gijs </span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/rpi-fs-resize/rpi-resize.png" class="post-preview-img"><p>When you boot Raspberry Pi OS for the first time, it performs an automatic file system expansion. This process makes sure that the file system is expanded to the size of the SD card. Because of this process, it doesn’t matter to what size SD card you write the Raspberry Pi OS image.</p><p>But exactly how does this process work?</p><p>As far as I can tell the Raspberry Pi OS (formerly knows as Raspbian) expands its file system <a href="https://www.raspberrypi.org/blog/another-update-raspbian">since 2016</a>.</p><blockquote><p>When flashing a new Raspbian image, the file system will automatically be expanded to use all the space on the card when it is first booted.</p></blockquote><p>Let’s see how this is implemented.</p><h1 id="mounting-the-raspberry-pi-os-image-locally">Mounting the Raspberry Pi OS image locally</h1><p>We’ll be mounting the latest Raspberry Pi OS image locally, so we can inspect it before the file system expansion has run.</p><p>You can download the latest Raspberry Pi OS image <a href="https://www.raspberrypi.org/software/operating-systems">here</a> (release date December 2nd 2020 at the time of writing).</p><p>You’ll need sudo access to follow along. Also, you will need <a href="https://linux.die.net/man/8/kpartx">kpartx</a> installed.</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>su
<span class="gp">#</span><span class="w"> </span>kpartx <span class="nt">-av</span> 2020-12-02-raspios-buster-armhf-lite.img
<span class="go">add map loop24p1 (253:2): 0 524288 linear 7:24 8192
add map loop24p2 (253:3): 0 3096576 linear 7:24 532480
</span></pre></table></code></div></div><p>Note: the number after <code class="language-plaintext highlighter-rouge">loop</code> (in the example <code class="language-plaintext highlighter-rouge">24</code>) can be different.</p><p>At this point two new loop devices will have been created in <code class="language-plaintext highlighter-rouge">/dev/mapper/</code>:</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="w"> </span><span class="nb">ls</span> /dev/mapper/loop24<span class="k">*</span>
<span class="go">/dev/mapper/loop24p1  /dev/mapper/loop24p2
</span></pre></table></code></div></div><p>The first loop device (<code class="language-plaintext highlighter-rouge">loop24p1</code>) is the <code class="language-plaintext highlighter-rouge">/boot</code> partition, the second loop device is the <code class="language-plaintext highlighter-rouge">/</code> (root) partition.</p><p>You can list the partitions on a running Raspberry Pi using (for example) this command:</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>mount <span class="nt">-l</span> | <span class="nb">grep </span>mmc
<span class="go">/dev/mmcblk0p2 on / type ext4 (rw,noatime) [rootfs]
/dev/mmcblk0p1 on /boot type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,errors=remount-ro) [boot]
</span></pre></table></code></div></div><p>This confirms that partition 1 is the boot partition, and partition 2 is the root partition.</p><p>We can now mount both these loop devices locally:</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="w"> </span><span class="nb">mkdir</span> /tmp/rpi-boot
<span class="gp">#</span><span class="w"> </span>mount /dev/mapper/loop25p1 /tmp/rpi-boot/
<span class="go">
</span><span class="gp">#</span><span class="w"> </span><span class="nb">mkdir</span> /tmp/rpi-root
<span class="gp">#</span><span class="w"> </span>mount /dev/mapper/loop25p2 /tmp/rpi-root/
</pre></table></code></div></div><p>When you are done, remember to reverse the steps we just took:</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="w"> </span>umount /tmp/rpi-boot/ /tmp/rpi-root/
<span class="gp">#</span><span class="w"> </span>kpartx <span class="nt">-d</span> 2020-12-02-raspios-buster-armhf-lite.img
</pre></table></code></div></div><h1 id="how-the-automatic-file-system-expansion-is-implemented">How the automatic file system expansion is implemented</h1><p>Now we can inspect the Raspberry Pi OS file system, without it having been booted for the first time.</p><p>The file called <code class="language-plaintext highlighter-rouge">cmdline.txt</code> is what we want.</p><p>The <a href="https://www.raspberrypi.org/documentation/configuration/cmdline-txt.md">Raspberry PI documentation</a> offers some information about this file.</p><blockquote><p>The Linux kernel accepts a command line of parameters during boot. On the Raspberry Pi, this command line is defined in a file in the boot partition, called cmdline.txt.</p></blockquote><p>Let’s have a look at its contents:</p><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="w"> </span><span class="nb">cat</span> /tmp/rpi-boot/cmdline.txt 
<span class="go">console=serial0,115200 console=tty1 root=PARTUUID=067e19d7-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait quiet init=/usr/lib/raspi-config/init_resize.sh
</span></pre></table></code></div></div><p>The interesting part is <code class="language-plaintext highlighter-rouge">init=/usr/lib/raspi-config/init_resize.sh</code>.</p><p>The <a href="https://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt">Linux documentation</a> has the following to say about the <code class="language-plaintext highlighter-rouge">init</code> parameter:</p><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>init=	[KNL]
	Format: &lt;full_path&gt;
	Run specified binary instead of /sbin/init as init
	process.
</pre></table></code></div></div><p>The Raspberry Pi OS image is telling the Linux kernel to run a specific script (<code class="language-plaintext highlighter-rouge">/usr/lib/raspi-config/init_resize.sh</code>) instead of the regular init process <code class="language-plaintext highlighter-rouge">/sbin/init</code> (which is actually a symlink to <code class="language-plaintext highlighter-rouge">/lib/systemd/systemd</code>).</p><p>The script can be found at <a href="https://github.com/RPi-Distro/raspi-config/blob/master/usr/lib/raspi-config/init_resize.sh">github.com/RPi-Distro/raspi-config</a></p><p>In essence, it uses <code class="language-plaintext highlighter-rouge">parted</code> to perform the partition resize.</p><p>Near the end of the script something interesting happens, the script removes the <code class="language-plaintext highlighter-rouge">init=</code> parameter from <code class="language-plaintext highlighter-rouge">/boot/cmdline.txt</code> using <code class="language-plaintext highlighter-rouge">sed -i 's| init=/usr/lib/raspi-config/init_resize\.sh||' /boot/cmdline.txt</code>. This makes perfect sense, since if this is not done the Raspberry Pi would reboot and run the <code class="language-plaintext highlighter-rouge">init_resize.sh</code> again, and again, and again…</p><p>As we read in the Linux documentation, <code class="language-plaintext highlighter-rouge">/sbin/init</code> (which is a symlink to systemd) will be run when the <code class="language-plaintext highlighter-rouge">init=</code> parameter is omitted. After the Raspberry Pi is rebooted it will start up as usual, but now with its file system having been expanded to make full use of the available space on the SD card.</p><h1 id="resources">Resources</h1><ul><li><a href="https://www.raspberrypi.org/blog/another-update-raspbian">https://www.raspberrypi.org/blog/another-update-raspbian</a></li><li><a href="https://www.raspberrypi.org/software/operating-systems">https://www.raspberrypi.org/software/operating-systems</a></li><li><a href="https://linux.die.net/man/8/kpartx">https://linux.die.net/man/8/kpartx</a></li><li><a href="https://www.raspberrypi.org/documentation/configuration/cmdline-txt.md">https://www.raspberrypi.org/documentation/configuration/cmdline-txt.md</a></li><li><a href="https://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt">https://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt</a></li><li><a href="https://github.com/RPi-Distro/raspi-config/blob/master/usr/lib/raspi-config/init_resize.sh">https://github.com/RPi-Distro/raspi-config/blob/master/usr/lib/raspi-config/init_resize.sh</a></li></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>linux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/raspberry-pi/" class="post-tag no-text-decoration" >raspberry-pi</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=How the Raspberry Pi automatic file system expansion works - Gijs&url=https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=How the Raspberry Pi automatic file system expansion works - Gijs&u=https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=How the Raspberry Pi automatic file system expansion works - Gijs&url=https://gdejong.github.io/posts/raspberry-pi-file-system-resize-on-first-boot/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/raspberry-pi/">raspberry pi</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/programming/">programming</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/how-raspberry-pi-enbales-ssh-when-boot-ssh-file-is-present/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Feb 28 <i class="unloaded">2021-02-28T13:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How the Raspberry Pi enables SSH when /boot/ssh.txt is present</h3><div class="text-muted small"><p> Note on security If you decide to enable SSH, remember to change the default password! Preferably you disable password-based authentication and instead setup key-based authentication. See the of...</p></div></div></a></div><div class="card"> <a href="/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Oct 26, 2020 <i class="unloaded">2020-10-26T20:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Pretty dialog boxes for your shell scripts using Whiptail</h3><div class="text-muted small"><p> Have you ever wanted to make your shell script interactive? Or have you ever wanted to display a full screen message from your shell script? Whiptail can do this for you! The docs describe Whipta...</p></div></div></a></div><div class="card"> <a href="/posts/watch/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Nov 21, 2020 <i class="unloaded">2020-11-21T15:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tips for using watch</h3><div class="text-muted small"><p> I have been using watch for some time now but only recently I found out it offers some options that make it even better! What is watch? Watch is a program that repeatedly executes a command you t...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/advent-of-code/" class="btn btn-outline-primary"><p>Happy Advent of Code 2020!</p></a> <a href="/posts/how-raspberry-pi-enbales-ssh-when-boot-ssh-file-is-present/" class="btn btn-outline-primary"><p>How the Raspberry Pi enables SSH when /boot/ssh.txt is present</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="">Gijs</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a> theme.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/raspberry-pi/">raspberry pi</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/programming/">programming</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', '', 'auto'); ga('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://gdejong.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
