<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pretty dialog boxes for your shell scripts using Whiptail | Gijs</title><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Pretty dialog boxes for your shell scripts using Whiptail" /><meta name="author" content="Gijs" /><meta property="og:locale" content="en_US" /><meta name="description" content="Have you ever wanted to make your shell script interactive? Or have you ever wanted to display a full screen message from your shell script? Whiptail can do this for you!" /><meta property="og:description" content="Have you ever wanted to make your shell script interactive? Or have you ever wanted to display a full screen message from your shell script? Whiptail can do this for you!" /><link rel="canonical" href="https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/" /><meta property="og:url" content="https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/" /><meta property="og:site_name" content="Gijs" /><meta property="og:image" content="https://gdejong.github.io/assets/img/whiptail/inputbox.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-26T20:00:00+01:00" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://gdejong.github.io/assets/img/whiptail/inputbox.png","description":"Have you ever wanted to make your shell script interactive? Or have you ever wanted to display a full screen message from your shell script? Whiptail can do this for you!","mainEntityOfPage":{"@type":"WebPage","@id":"https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/"},"@type":"BlogPosting","url":"https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/","headline":"Pretty dialog boxes for your shell scripts using Whiptail","dateModified":"2020-10-26T20:00:00+01:00","datePublished":"2020-10-26T20:00:00+01:00","author":{"@type":"Person","name":"Gijs"},"@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Gijs</a></div><div class="site-subtitle font-italic">Notes on random tech topics.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/gdejong" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Pretty dialog boxes for your shell scripts using Whiptail</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Pretty dialog boxes for your shell scripts using Whiptail</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Oct 26, 2020, 8:00 PM +0100" > Oct 26, 2020 <i class="unloaded">2020-10-26T20:00:00+01:00</i> </span> by <span class="author"> Gijs </span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/inputbox.png" class="post-preview-img"><p>Have you ever wanted to make your shell script interactive? Or have you ever wanted to display a full screen message from your shell script? <a href="https://linux.die.net/man/1/whiptail"><strong>Whiptail</strong></a> can do this for you!</p><p>The <a href="https://linux.die.net/man/1/whiptail"><strong>docs</strong></a> describe Whiptail as follows:</p><blockquote><p>Whiptail is a program that will let you present a variety of questions or display messages using dialog boxes from a shell script. Currently, these types of dialog boxes are implemented:</p></blockquote><p>It offers a couple of different dialog boxes:</p><ul><li><a href="#message-box">message box</a></li><li><a href="#yesno-box">yes/no box</a></li><li><a href="#info-box">info box</a></li><li><a href="#input-box">input box</a></li><li><a href="#password-box">password box</a></li><li><a href="#text-box">text box</a></li><li><a href="#menu-box">menu box</a></li><li><a href="#checklist-box">checklist box</a></li><li><a href="#radiolist-box">radiolist box</a></li><li><a href="#gauge-box">gauge box</a></li></ul><h1 id="installation">Installation</h1><p>On Debian based Linux distributions <code class="language-plaintext highlighter-rouge">whiptail</code> comes preinstalled.</p><p>If not you can grab it via:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>whiptail
</pre></table></code></div></div><p>Installation instructions for other Linux distros can be found at <a href="https://command-not-found.com/whiptail">https://command-not-found.com/whiptail</a></p><h1 id="size-of-the-dialog">Size of the dialog</h1><p>All invocations of <code class="language-plaintext highlighter-rouge">whiptail</code> require you to specify a height (rows) and width (columns) of the dialog box to show. For example <code class="language-plaintext highlighter-rouge">20 100</code>. It will take some trial and error before the box shows up nicely for your specific content.</p><h1 id="types-of-dialog-boxes">Types of dialog boxes</h1><p>Whiptail offers a couple of different types of dialog boxes.</p><h2 id="message-box">Message box</h2><p>A message box can be used to display some text. Script execution is paused until the user hits ENTER.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>whiptail <span class="nt">--msgbox</span> <span class="s2">"This is a message in a message box."</span> 10 100
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/messagebox.png" alt="Whiptail message box" /></p><h2 id="yesno-box">Yes/no box</h2><p>Here you can ask the user a question, by default the <code class="language-plaintext highlighter-rouge">Yes</code> button is selected</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="k">if </span>whiptail <span class="nt">--yesno</span> <span class="s2">"Are you sure?"</span> 10 100<span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Yes I am sure!"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"No I am not sure!"</span>
<span class="k">fi</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/yesno-default-yes.png" alt="Whiptail yes/no box" /></p><p>Use the option <code class="language-plaintext highlighter-rouge">--defaultno</code> to make <code class="language-plaintext highlighter-rouge">No</code> the default selected button</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="k">if </span>whiptail <span class="nt">--yesno</span> <span class="s2">"Are you sure?"</span> 10 100 <span class="nt">--defaultno</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Yes I am sure!"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"No I am not sure!"</span>
<span class="k">fi</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/yesno-default-no.png" alt="Whiptail yes/no box" /></p><h2 id="info-box">Info box</h2><p>An info box is basically a message box without Whiptail waiting for the user to hit ENTER.</p><p>This dialog box <strong>does not work</strong> on <code class="language-plaintext highlighter-rouge">xterm</code> terminals (for example the default terminal in Ubuntu)!</p><p>A <a href="https://stackoverflow.com/questions/13000391/how-to-display-infobox-in-whiptail">workaround</a> is possible though.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">TERM</span><span class="o">=</span>vt220 whiptail <span class="nt">--infobox</span> <span class="s2">"Text from an info box."</span> 10 100
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/infobox.png" alt="Whiptail info box" /></p><h2 id="input-box">Input box</h2><p>Use an input box to ask the user to answer a question.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">NAME</span><span class="o">=</span><span class="si">$(</span>whiptail <span class="nt">--inputbox</span> <span class="s2">"Please enter your name"</span> 10 100 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"name: </span><span class="nv">$NAME</span><span class="s2">"</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3</code> part switches the <code class="language-plaintext highlighter-rouge">stdout</code> and <code class="language-plaintext highlighter-rouge">stderr</code> file descriptors. This is needed because we want to assign the user input to the variable <code class="language-plaintext highlighter-rouge">NAME</code>. This variable will be assigned whatever the subshell command outputs to <code class="language-plaintext highlighter-rouge">stdout</code>, only problem is that <code class="language-plaintext highlighter-rouge">whiptail</code> prints the input string to <code class="language-plaintext highlighter-rouge">stderr</code> by default. Credits to <a href="https://unix.stackexchange.com/questions/42728/what-does-31-12-23-do-in-a-script">this Stack Overflow post</a>.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/inputbox.png" alt="Whiptail input box" /></p><h2 id="password-box">Password box</h2><p>A password is just like an input box however it displays an <code class="language-plaintext highlighter-rouge">*</code> for every inputted character.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">PASSWORD</span><span class="o">=</span><span class="si">$(</span>whiptail <span class="nt">--passwordbox</span> <span class="s2">"Please enter your password"</span> 10 100 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<span class="si">)</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/password-box.png" alt="Whiptail password box" /></p><h2 id="text-box">Text box</h2><p>A text box can be used to display the contents of a file. The <code class="language-plaintext highlighter-rouge">--scrolltext</code> option makes sure the user can scroll the dialog box.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>whiptail <span class="nt">--textbox</span> file.txt 10 100 <span class="nt">--scrolltext</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/textbox.png" alt="Whiptail text box" /></p><h2 id="menu-box">Menu box</h2><p>A menu can be used to present multiple options and having the user choose one option. Every menu item consists of a tag string and an item string. The tag string is the name of the menu item - and will be printed to <code class="language-plaintext highlighter-rouge">stderr</code> (we use the stderr/stdout flip trick again to print the selected option to <code class="language-plaintext highlighter-rouge">stdout</code> instead) when the user hits ENTER. The item string is a description of the menu item. Whiptail does not enforce tag strings to be unique.</p><p>After the height and width of the dialog box, another parameter is required: the height of the menu list. You probably want this value to be lower than the height of the dialog box.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">CHOICE</span><span class="o">=</span><span class="si">$(</span>whiptail <span class="nt">--menu</span> <span class="s2">"Choose an option"</span> 18 100 10 <span class="se">\</span>
  <span class="s2">"Tiny"</span> <span class="s2">"A description for the tiny option."</span> <span class="se">\</span>
  <span class="s2">"Small"</span> <span class="s2">"A description for the small option."</span> <span class="se">\</span>
  <span class="s2">"Medium"</span> <span class="s2">"A description for the medium option."</span> <span class="se">\</span>
  <span class="s2">"Large"</span> <span class="s2">"A description for the large option."</span> <span class="se">\</span>
  <span class="s2">"Huge"</span> <span class="s2">"A description for the huge option."</span> 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<span class="si">)</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"No option was chosen (user hit Cancel)"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"The user chose </span><span class="nv">$CHOICE</span><span class="s2">"</span>
<span class="k">fi</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/menu-box.png" alt="Whiptail menu box" /></p><h2 id="checklist-box">Checklist box</h2><p>A checklist box is similar to a menu box, but it allows the user to select zero or more options.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">CHOICES</span><span class="o">=</span><span class="si">$(</span>whiptail <span class="nt">--separate-output</span> <span class="nt">--checklist</span> <span class="s2">"Choose options"</span> 10 35 5 <span class="se">\</span>
  <span class="s2">"1"</span> <span class="s2">"The first option"</span> ON <span class="se">\</span>
  <span class="s2">"2"</span> <span class="s2">"The second option"</span> ON <span class="se">\</span>
  <span class="s2">"3"</span> <span class="s2">"The third option"</span> OFF <span class="se">\</span>
  <span class="s2">"4"</span> <span class="s2">"The fourth option"</span> OFF 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<span class="si">)</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"No option was selected (user hit Cancel or unselected all options)"</span>
<span class="k">else
  for </span>CHOICE <span class="k">in</span> <span class="nv">$CHOICES</span><span class="p">;</span> <span class="k">do
    case</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="k">in</span>
    <span class="s2">"1"</span><span class="p">)</span>
      <span class="nb">echo</span> <span class="s2">"Option 1 was selected"</span>
      <span class="p">;;</span>
    <span class="s2">"2"</span><span class="p">)</span>
      <span class="nb">echo</span> <span class="s2">"Option 2 was selected"</span>
      <span class="p">;;</span>
    <span class="s2">"3"</span><span class="p">)</span>
      <span class="nb">echo</span> <span class="s2">"Option 3 was selected"</span>
      <span class="p">;;</span>
    <span class="s2">"4"</span><span class="p">)</span>
      <span class="nb">echo</span> <span class="s2">"Option 4 was selected"</span>
      <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span>
      <span class="nb">echo</span> <span class="s2">"Unsupported item </span><span class="nv">$CHOICE</span><span class="s2">!"</span> <span class="o">&gt;</span>&amp;2
      <span class="nb">exit </span>1
      <span class="p">;;</span>
    <span class="k">esac</span>
  <span class="k">done
fi</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/checklist-box.png" alt="Whiptail checklist box" /></p><h2 id="radiolist-box">Radiolist box</h2><p>A radiolist is similar to a <a href="#menu-box">menu box</a> but it allows you to set a default selected option.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">CHOICE</span><span class="o">=</span><span class="si">$(</span>whiptail <span class="nt">--separate-output</span> <span class="nt">--radiolist</span> <span class="s2">"Choose options"</span> 10 35 5 <span class="se">\</span>
  <span class="s2">"1"</span> <span class="s2">"The first option"</span> OFF <span class="se">\</span>
  <span class="s2">"2"</span> <span class="s2">"The second option"</span> ON <span class="se">\</span>
  <span class="s2">"3"</span> <span class="s2">"The third option"</span> OFF <span class="se">\</span>
  <span class="s2">"4"</span> <span class="s2">"The fourth option"</span> OFF 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<span class="si">)</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$CHOICE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"No option was chosen (user hit Cancel)"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"The user chose </span><span class="nv">$CHOICE</span><span class="s2">"</span>
<span class="k">fi</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/radiolist.png" alt="Whiptail radiolist box" /></p><h2 id="gauge-box">Gauge box</h2><p>The last type, the gauge box, can be used to display a progress bar. Whiptail reads new percentages to update the progress bar from <code class="language-plaintext highlighter-rouge">stdin</code>.</p><p>The most difficult part of using this type of dialog box is knowing the progress of a command. This really depends on the command that is being run, and it makes this the most difficult dialog type to use in my opinion. You may find <a href="https://linux.die.net/man/1/pv">pv</a> useful here.</p><h1 id="options">Options</h1><p>Some options you may find useful:</p><h2 id="--fb"><code class="language-plaintext highlighter-rouge">--fb</code></h2><p>Display Full Buttons with a 3D-effect.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/messagebox-fb.png" alt="Whiptail message box with full buttons" /></p><h2 id="--title"><code class="language-plaintext highlighter-rouge">--title</code></h2><p>Add a title to the dialog box.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/img/whiptail/messagebox-title.png" alt="Whiptail message box with a title" /></p><h2 id="--nocancel"><code class="language-plaintext highlighter-rouge">--nocancel</code></h2><p>Do not show a Cancel button. Can for example be used together with a menu box.</p><h1 id="tips">Tips</h1><h2 id="full-screen">Full screen?</h2><p>In case you decide you want a full screen dialog box, you can use <code class="language-plaintext highlighter-rouge">stty</code> to give you the dimensions (number of rows and columns) of the terminal.</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>whiptail <span class="nt">--msgbox</span> <span class="s2">"Full screen!"</span> <span class="si">$(</span><span class="nb">stty </span>size<span class="si">)</span>
</pre></table></code></div></div><h1 id="resources">Resources</h1><ul><li><a href="https://linux.die.net/man/1/whiptail">https://linux.die.net/man/1/whiptail</a></li><li><a href="https://en.wikibooks.org/wiki/Bash_Shell_Scripting/Whiptail">https://en.wikibooks.org/wiki/Bash_Shell_Scripting/Whiptail</a></li><li><a href="https://github.com/RPi-Distro/raspi-config/blob/master/raspi-config">https://github.com/RPi-Distro/raspi-config/blob/master/raspi-config</a></li><li><a href="https://unix.stackexchange.com/questions/42728/what-does-31-12-23-do-in-a-script">https://unix.stackexchange.com/questions/42728/what-does-31-12-23-do-in-a-script</a></li><li><a href="https://stackoverflow.com/questions/13000391/how-to-display-infobox-in-whiptail">https://stackoverflow.com/questions/13000391/how-to-display-infobox-in-whiptail</a></li></ul><p>Happy scripting :)</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>linux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/cli/" class="post-tag no-text-decoration" >cli</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Pretty dialog boxes for your shell scripts using Whiptail - Gijs&url=https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Pretty dialog boxes for your shell scripts using Whiptail - Gijs&u=https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Pretty dialog boxes for your shell scripts using Whiptail - Gijs&url=https://gdejong.github.io/posts/pretty-dialog-boxes-for-your-shell-scripts-using-whiptail/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/raspberry-pi/">raspberry pi</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/programming/">programming</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/watch/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Nov 21, 2020 <i class="unloaded">2020-11-21T15:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tips for using watch</h3><div class="text-muted small"><p> I have been using watch for some time now but only recently I found out it offers some options that make it even better! What is watch? Watch is a program that repeatedly executes a command you t...</p></div></div></a></div><div class="card"> <a href="/posts/raspberry-pi-file-system-resize-on-first-boot/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Jan 9 <i class="unloaded">2021-01-09T19:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How the Raspberry Pi automatic file system expansion works</h3><div class="text-muted small"><p> When you boot Raspberry Pi OS for the first time, it performs an automatic file system expansion. This process makes sure that the file system is expanded to the size of the SD card. Because of thi...</p></div></div></a></div><div class="card"> <a href="/posts/how-raspberry-pi-enbales-ssh-when-boot-ssh-file-is-present/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Feb 28 <i class="unloaded">2021-02-28T13:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How the Raspberry Pi enables SSH when /boot/ssh.txt is present</h3><div class="text-muted small"><p> Note on security If you decide to enable SSH, remember to change the default password! Preferably you disable password-based authentication and instead setup key-based authentication. See the of...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled"><p>-</p></span> <a href="/posts/watch/" class="btn btn-outline-primary"><p>Tips for using watch</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="">Gijs</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a> theme.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/raspberry-pi/">raspberry pi</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/programming/">programming</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', '', 'auto'); ga('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://gdejong.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
